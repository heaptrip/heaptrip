<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE tiles-definitions PUBLIC
       "-//Apache Software Foundation//DTD Tiles Configuration 2.1//EN"
       "http://tiles.apache.org/dtds/tiles-config_2_1.dtd">

<tiles-definitions>

	<definition name="mainScriptsTemplate" template="/WEB-INF/jsp/scripts.jsp">
		<put-list-attribute name="scripts">
			<add-attribute value="/resources/js/jquery.js?ver=1.9.1-min" />
			<!-- Скрипт для разбора и url -->
			<add-attribute value="https://raw.github.com/cowboy/jquery-bbq/v1.2.1/jquery.ba-bbq.min.js" />
			<!-- JS ШАБЛОНЫ : TODO: перенести по ПМЖ-->
			<add-attribute value="http://borismoore.github.io/jsrender/jsrender.js" />
			
			<add-attribute value="/resources/js/script.js" />
			<add-attribute value="/resources/js/util.js" />
		</put-list-attribute>
	</definition>

	<definition name="mainStylesTemplate" template="/WEB-INF/jsp/styles.jsp">
		<put-list-attribute name="styles">
			<add-attribute value="/resources/css/header.css" />
			<add-attribute value="/resources/css/footer.css" />
		</put-list-attribute>
	</definition>

	<definition name="jqueryuiScriptsTemplate" extends="mainScriptsTemplate">
		<put-list-attribute name="scripts" inherit="true">
			<add-attribute value="http://code.jquery.com/ui/1.10.2/jquery-ui.js" />
		</put-list-attribute>
	</definition>

	<definition name="jqueryuiStylesTemplate" extends="mainStylesTemplate">
		<put-list-attribute name="styles" inherit="true">
			<add-attribute value="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
		</put-list-attribute>
	</definition>

	<definition name="baseHeaderTemplate" template="/WEB-INF/jsp/header.jsp">
		<put-attribute name="account" value="" />
		<put-attribute name="search" value="" />
	</definition>

	<definition name="headerTemplate" extends="baseHeaderTemplate">
		<put-attribute name="account" value="/WEB-INF/jsp/account.jsp" />
		<put-attribute name="search" value="/WEB-INF/jsp/search.jsp" />
	</definition>

	<definition name="mainContentTemplate" extends="mainTemplate">
		<put-attribute name="footer" value="/WEB-INF/jsp/footer.jsp" />
		<put-attribute name="account" value="/WEB-INF/jsp/account.jsp" />
	</definition>

	<definition name="mainTemplate" template="/WEB-INF/jsp/main.jsp">
		<put-attribute name="scripts_ins" value="mainScriptsTemplate" />
		<put-attribute name="styles_ins" value="mainStylesTemplate" />
		<put-attribute name="header" value="baseHeaderTemplate" />
		<put-attribute name="main_content" value="/WEB-INF/jsp/header.jsp" />
		<put-attribute name="footer" value="" />
	</definition>

	<definition name="mainContentTemplate" extends="mainTemplate">
		<put-attribute name="header" value="headerTemplate" />
		<put-attribute name="footer" value="/WEB-INF/jsp/footer.jsp" />
	</definition>

	<definition name="registrationStylesTemplate" extends="mainStylesTemplate">
		<put-list-attribute name="styles" inherit="true">
			<add-attribute value="/resources/css/reg.css" />
		</put-list-attribute>
	</definition>

	<definition name="login" extends="mainTemplate">
		<put-attribute name="scripts_ins" value="jqueryuiScriptsTemplate" />
		<put-attribute name="styles_ins" value="registrationStylesTemplate" />
		<put-attribute name="main_content" value="/WEB-INF/jsp/user/login.jsp" />
		<put-attribute name="footer" value="/WEB-INF/jsp/footer.jsp" />
	</definition>

	<definition name="registration" extends="mainTemplate">
		<put-attribute name="scripts_ins" value="jqueryuiScriptsTemplate" />
		<put-attribute name="styles_ins" value="registrationStylesTemplate" />
		<put-attribute name="main_content" value="/WEB-INF/jsp/user/registration.jsp" />
		<put-attribute name="footer" value="/WEB-INF/jsp/footer.jsp" />
	</definition>

	<definition name="errorStylesTemplate" extends="mainStylesTemplate">
		<put-list-attribute name="styles" inherit="true">
			<add-attribute value="/resources/css/error.css" />
		</put-list-attribute>
	</definition>

	<definition name="error" extends="mainTemplate">
		<put-attribute name="styles_ins" value="errorStylesTemplate" />
		<put-attribute name="main_content" value="/WEB-INF/jsp/error.jsp" />
	</definition>

	<definition name="notfound" extends="mainTemplate">
		<put-attribute name="styles_ins" value="errorStylesTemplate" />
		<put-attribute name="main_content" value="/WEB-INF/jsp/notfound.jsp" />
	</definition>

	<definition name="catalogScriptsTemplate" extends="jqueryuiScriptsTemplate">
		<put-list-attribute name="scripts" inherit="true">
			<add-attribute value="/resources/js/jquery.jstree.js" />
			<add-attribute value="/resources/js/filtr.js" />
		</put-list-attribute>
	</definition>

	<definition name="catalogStylesTemplate" extends="jqueryuiStylesTemplate">
		<put-list-attribute name="styles" inherit="true">
			<add-attribute value="/resources/css/style.css" />
		</put-list-attribute>
	</definition>

	<definition name="catalogTemplate" template="/WEB-INF/jsp/catalog/catalog.jsp">
		<put-attribute name="catalog_tabs" value="/WEB-INF/jsp/catalog/catalog_tabs.jsp" />
		<put-attribute name="catalog_right_bar" value="" />
		<put-attribute name="catalog_content" value="" />
	</definition>

	<definition name="travelsTemplate" extends="catalogTemplate">
		<put-attribute name="catalog_content" value="/WEB-INF/jsp/catalog/travel/travels.jsp" />
		<put-attribute name="catalog_right_bar" value="/WEB-INF/jsp/catalog/travel/travels_right_bar.jsp" />
	</definition>


	<definition name="tidingsTemplate" extends="catalogTemplate">
		<put-attribute name="catalog_content" value="/WEB-INF/jsp/catalog/tiding/tidings.jsp" />
		<put-attribute name="catalog_right_bar" value="/WEB-INF/jsp/catalog/tiding/tidings_right_bar.jsp" />
	</definition>

	<definition name="tidings" extends="mainContentTemplate">
		<put-attribute name="scripts_ins" value="catalogScriptsTemplate" />
		<put-attribute name="styles_ins" value="catalogStylesTemplate" />
		<put-attribute name="main_content" value="tidingsTemplate" />
	</definition>

	<definition name="postsTemplate" extends="catalogTemplate">
		<put-attribute name="catalog_content" value="/WEB-INF/jsp/catalog/post/posts.jsp" />
		<put-attribute name="catalog_right_bar" value="/WEB-INF/jsp/catalog/post/posts_right_bar.jsp" />
	</definition>

	<definition name="postReadTemplate" extends="catalogTemplate">
		<put-attribute name="catalog_content" value="/WEB-INF/jsp/catalog/post/post_read.jsp" />
		<put-attribute name="catalog_right_bar" value="/WEB-INF/jsp/catalog/post/posts_right_bar.jsp" />
	</definition>

	<definition name="postEditTemplate" extends="catalogTemplate">
		<put-attribute name="catalog_content" value="/WEB-INF/jsp/catalog/post/post_edit.jsp" />
		<put-attribute name="catalog_right_bar" value="/WEB-INF/jsp/catalog/post/posts_right_bar.jsp" />
	</definition>

	<definition name="travels" extends="mainContentTemplate">
		<put-attribute name="scripts_ins" value="catalogScriptsTemplate" />
		<put-attribute name="styles_ins" value="catalogStylesTemplate" />
		<put-attribute name="main_content" value="travelsTemplate" />
	</definition>

	<definition name="posts" extends="mainContentTemplate">
		<put-attribute name="scripts_ins" value="catalogScriptsTemplate" />
		<put-attribute name="styles_ins" value="catalogStylesTemplate" />
		<put-attribute name="main_content" value="postsTemplate" />
	</definition>

	<definition name="post" extends="mainContentTemplate">
		<put-attribute name="scripts_ins" value="catalogScriptsTemplate" />
		<put-attribute name="styles_ins" value="catalogStylesTemplate" />
		<put-attribute name="main_content" value="postReadTemplate" />
	</definition>

	<definition name="postEditScriptsTemplate" extends="catalogScriptsTemplate">
		<put-list-attribute name="scripts" inherit="true">
			<add-attribute value="/resources/js/lib/ckeditor/ckeditor.js" />
		</put-list-attribute>
	</definition>

	<definition name="post/edit" extends="mainContentTemplate">
		<put-attribute name="scripts_ins" value="postEditScriptsTemplate" />
		<put-attribute name="styles_ins" value="catalogStylesTemplate" />
		<put-attribute name="main_content" value="postEditTemplate" />
	</definition>

	<definition name="postImage" extends="mainContentTemplate">
		<put-attribute name="main_content" value="/WEB-INF/jsp/catalog/post/post_image.jsp" />
	</definition>

	<definition name="categoryTree" template="/WEB-INF/jsp/widget/category_tree.jsp" />
	<definition name="regionFilter" template="/WEB-INF/jsp/widget/region_filter.jsp" />
	<definition name="pagination" template="/WEB-INF/jsp/widget/pagination.jsp" />
	
	
	

</tiles-definitions>