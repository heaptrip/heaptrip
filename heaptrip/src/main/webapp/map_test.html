<!DOCTYPE html>
<html lang="en">
<head>
    <title>OpenLayers.Editor</title>
    <meta charset="utf-8">
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript" src="./js/lib/ole/lib/loader.js"></script>
    <link rel="stylesheet" href="./js/lib/ole/theme/geosilk/geosilk.css" type="text/css"/>
    <script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>

    <script type="text/javascript">

        function init() {

            var map, editor;
            OpenLayers.Lang.setCode("ru");


            map = new OpenLayers.Map('map', {
                projection: 'EPSG:3857',
                layers: [



                    new OpenLayers.Layer.OSM(
                            "OSM"
                    ),
                    new OpenLayers.Layer.Google(
                            "Google Physical",
                            {type: google.maps.MapTypeId.TERRAIN}
                    ),
                    new OpenLayers.Layer.Google(
                            "Google Streets", // the default
                            {numZoomLevels: 20}
                    ),
                    new OpenLayers.Layer.Google(
                            "Google Hybrid",
                            {type: google.maps.MapTypeId.HYBRID, numZoomLevels: 20}
                    ),
                    new OpenLayers.Layer.Google(
                            "Google Satellite",
                            {type: google.maps.MapTypeId.SATELLITE, numZoomLevels: 22}
                    )
                ],
                center: new OpenLayers.LonLat(10.2, 48.9)
                    // Google.v3 uses web mercator as projection, so we have to
                    // transform our coordinates
                        .transform('EPSG:4326', 'EPSG:3857'),
                zoom: 5
            });
            map.addControl(new OpenLayers.Control.LayerSwitcher());

            bounds = new OpenLayers.Bounds();
            bounds.extend(new OpenLayers.LonLat(29.4, 60.0));
            bounds.extend(new OpenLayers.LonLat(30.9, 59.8));
            bounds.toBBOX()
            bounds.transform(new OpenLayers.Projection("EPSG:4326"), map.getProjectionObject());


            map.zoomToExtent(bounds, true);

            editor = new OpenLayers.Editor(map, {
                activeControls: ['Navigation', 'SnappingSettings', 'CADTools', 'TransformFeature', 'Separator', 'DeleteFeature', 'DragFeature', 'SelectFeature', 'Separator', 'DrawHole', 'Separator', 'DrawText', 'Separator'],
                featureTypes: ['regular', 'polygon', 'path', 'point']
            });
            editor.startEditMode();
        }

    </script>

    <style type="text/css">
            /* Make map consume all available space */
        html, body, #map {
            height: 100%;
            margin: 0;
        }

    </style>

</head>
<body onload="init()">
<div id="map"></div>
</body>
</html>


<!--<!doctype html>-->
<!--<html>-->
<!--<head>-->
<!--<title>OpenLayers Editor: Spatial Data Editing for Web GIS</title>-->
<!--<meta http-equiv="Content-Type" content="text/html; charset=utf-8">-->
<!--<link rel="stylesheet" href="http://ole.geops.de:80/js/ole/theme/geosilk/geosilk.css" type="text/css"/>-->
<!--<link rel="stylesheet" href="http://ole.geops.de:80/css/style.css" type="text/css"/>-->
<!--</head>-->
<!--<body>-->

<!--<div id="page">-->

<!--<h1>Heap Trip OpenLayers Editor</h1>-->

<!--<div id="map" class="content"></div>-->
<!--<script src="http://www.openlayers.org/api/OpenLayers.js"></script>-->
<!--<script src="./js/lib/ole/ole.js"></script>-->
<!--<script src="./js/jquery.js?ver=1.9.1-min"></script>-->


<!--<script type="text/javascript">-->


<!--$(function () {-->
<!--$("#page").show();-->
<!--var f, d, c = ["#map"];-->

<!--f = new OpenLayers.Map("map");-->
<!--f.addLayer(new OpenLayers.Layer.OSM());-->

<!--bounds = new OpenLayers.Bounds();-->
<!--bounds.extend(new OpenLayers.LonLat(29.4, 60.0));-->
<!--bounds.extend(new OpenLayers.LonLat(30.9, 59.8));-->
<!--bounds.toBBOX()-->
<!--bounds.transform(new OpenLayers.Projection("EPSG:4326"), f.getProjectionObject());-->

<!--f.zoomToExtent(bounds, true);-->

<!--f.addLayer(new OpenLayers.Layer.OSM());-->


<!--d = new OpenLayers.Editor(f, {activeControls: ["Navigation", "SnappingSettings", "CADTools", "Separator", "SplitFeature", "MergeFeature", "CleanFeature", "DeleteFeature", "SelectFeature", "Separator", "DragFeature", "DrawHole", "ModifyFeature", "Separator"], featureTypes: ["regular", "polygon", "path", "point"], showStatus: function (g, h) {-->
<!--alert(h)-->
<!--}});-->
<!--d.startEditMode();-->
<!--$("#map").data("editor", d);-->
<!--function b() {-->
<!--$(c.join(", ")).hide();-->
<!--if ($.inArray(window.location.hash, c) > -1) {-->
<!--$(window.location.hash).show();-->
<!--$("#navigation a").removeClass("active");-->
<!--$("#navigation a[href=" + window.location.hash + "]").addClass("active")-->
<!--} else {-->
<!--$("#map").show();-->
<!--$("#navigation a[href=#map]").addClass("active")-->
<!--}-->
<!--}-->

<!--b();-->
<!--$(window).bind("hashchange", function (g) {-->
<!--b()-->
<!--});-->
<!--$("#navigation a").click(function (g) {-->
<!--$(c.join(", ")).hide();-->
<!--$(g.target.hash).show();-->
<!--$("#navigation a").removeClass("active");-->
<!--$(g.target).addClass("active")-->
<!--});-->
<!--function a() {-->
<!--try {-->
<!--return"localStorage" in window && window.localStorage !== null-->
<!--} catch (g) {-->
<!--return false-->
<!--}-->
<!--}-->

<!--if (a()) {-->
<!--var e = new OpenLayers.Format.GeoJSON();-->
<!--f.events.register("moveend", this, function (g, h) {-->
<!--localStorage["ole.map.zoom"] = f.zoom;-->
<!--localStorage["ole.map.center.lat"] = f.center.lat;-->
<!--localStorage["ole.map.center.lon"] = f.center.lon-->
<!--});-->
<!--d.editLayer.events.register("featureadded", this, function (g, h) {-->
<!--localStorage["ole.map.features"] = e.write(d.editLayer.features)-->
<!--});-->
<!--d.editLayer.events.register("featureremoved", this, function (g, h) {-->
<!--localStorage["ole.map.features"] = e.write(d.editLayer.features)-->
<!--});-->
<!--d.editLayer.events.register("afterfeaturemodified", this, function (g, h) {-->
<!--localStorage["ole.map.features"] = e.write(d.editLayer.features)-->
<!--});-->
<!--if (parseInt(localStorage["ole.map.zoom"]) >= 0) {-->
<!--f.setCenter(new OpenLayers.LonLat(parseFloat(localStorage["ole.map.center.lon"]), parseFloat(localStorage["ole.map.center.lat"])), parseInt(localStorage["ole.map.zoom"]));-->
<!--d.editLayer.addFeatures(e.read(localStorage["ole.map.features"]))-->
<!--}-->
<!--}-->
<!--});-->

<!--</script>-->

<!--</div>-->

<!--</body>-->

<!--</html>-->
